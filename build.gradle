group 'net.hypercubemc.runtimetransformer'
version '1.0-SNAPSHOT'

apply plugin: 'base'

subprojects {
    apply plugin: 'java'
    sourceCompatibility = JavaVersion.VERSION_15
    targetCompatibility = JavaVersion.VERSION_15

    repositories {
        mavenCentral()
        mavenLocal()
        maven { url "https://hub.spigotmc.org/nexus/content/repositories/snapshots/" }
        maven { url "https://repo.codemc.io/repository/nms/" }
    }
}

task installPlugin(type: Copy) {
    from("$rootDir/example-plugin/build/libs/example-plugin.jar")
    into "$rootDir/testenv/plugins"
    rename { "RuntimeTransformer.jar" }
}

clean.doFirst {
    delete("$rootDir/testenv/plugins/RuntimeTransformer.jar")
}
